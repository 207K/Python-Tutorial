

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="fa" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="fa" > <!--<![endif]-->
<html dir="rtl" lang="fa">
    <head>
        
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<meta content="کتاب آنلاین و آزاد آموزش زبان برنامه‌نویسی پایتون به فارسی - درس پنجم مفهوم شی گرایی" name="description" />
<meta content="شی گرایی, مفهوم شی گرایی, اصول و مبانی شی گرایی, کلاس, شی, متد, صفت, سازنده, نمونه سازی, کپسوله سازی, وراثت, چندریختی, انتزاع, تجرید, برنامه نویسی شی گرا, اشیا در پایتون, کلاس ها در پایتون, آموزش برنامه نویسی, آموزش پایتون,آموزش, سلسله مراتب وراثت, is-a,has-a, ترکیب" name="keywords" />

    
         <title>درس ۰۵: مفهوم شی‌گرایی &mdash; کتاب آزاد آموزش پایتون</title>
    




    





<link rel="stylesheet" type=text/css href="../_static/font-awesome.min.css">
<link rel="stylesheet" type=text/css href="../_static/bootstrap.min.css">
<link rel="stylesheet" type=text/css href="../_static/pygment-solarized-light.css">


    <link rel="stylesheet" type=text/css href="../_static/minoo-rtl.css">

        <link rel="top" title="کتاب آزاد آموزش پایتون" href="../index.html" />
        <link rel="next" title="درس ۰۶: سینتکس" href="l06.html" />
        <link rel="prev" title="درس ۰۴: برنامه‌نویسی تعاملی" href="l04.html" />



    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>

    
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/translations.js"></script>
        <script type="text/javascript" src="../_static/searchtools.js"></script>



    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-61670451-1' ]);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>


<script type="text/javascript" src="../_static/minoo.js"></script>
<script type="text/javascript" src="../_static/modernizr.min.js"></script>
    </head>
    <body>
        <div id="page">
            <div id="wrapper-page-sidebar">
                

<div id="page-sidebar">
<div id="sidebar-top">
    <div id="sidebar-top-image">
        <span style="background-image: url('../_static/avatar.jpg');"></span>
    </div>
    <div id="sidebar-top-links">
        
            <a href=http://coderz.ir/python target="_blank"><i class="fa fa-globe" style="font-size:23px;"></i></a>
        
        
        
        
        
        
            <a href=https://github.com/saeiddrv/PythonPersianTutorial target="_blank"><i class="fa fa-github-square" style="font-size:23px;"></i></a>
        
        
    </div>
    <div id="sidebar-navigation">
        <span id="navigation-toggle"><i class="fa  fa-angle-double-left " id="sidebar-toggle-icon" style="font-size: 27px;"></i></span>
        <span id="navigation-search">
                <form action="../search.html" method="get">
                    <input id="input-search" type="text" name="q"  placeholder="جستجو">
                    <input type="hidden" name="check_keywords" value="yes" />
                    <input type="hidden" name="area" value="default" />
                </form>
        </span>
    </div>
    <div id="sidebar-top-title">
        <a href="../index.html">کتاب آزاد آموزش پایتون</a>
    </div>
</div>

<div id="wrapper-sidebar-bottom">
<div id="sidebar-bottom">
    <div id="sidebar-bottom-list">
        
        
            <div id="tree-toc">
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="l01.html">درس ۰۱: آشنایی</a><ul>
<li class="toctree-l2"><a class="reference internal" href="l01.html#id2">تاریخچه</a></li>
<li class="toctree-l2"><a class="reference internal" href="l01.html#id8">توصیفی کوتاه</a></li>
<li class="toctree-l2"><a class="reference internal" href="l01.html#id12">ویژگی‌ها</a></li>
<li class="toctree-l2"><a class="reference internal" href="l01.html#id23">کارایی</a></li>
<li class="toctree-l2"><a class="reference internal" href="l01.html#id26">نسخه‌ها</a></li>
<li class="toctree-l2"><a class="reference internal" href="l01.html#id28">پی‌نوشت</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="l02.html">درس ۰۲: نصب و راه‌اندازی</a><ul>
<li class="toctree-l2"><a class="reference internal" href="l02.html#id2">دانلود</a></li>
<li class="toctree-l2"><a class="reference internal" href="l02.html#id6">نصب در ویندوز</a></li>
<li class="toctree-l2"><a class="reference internal" href="l02.html#id7">نصب در گنولینوکس</a></li>
<li class="toctree-l2"><a class="reference internal" href="l02.html#id8">سیستم مدیریت بسته</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="l03.html">درس ۰۳: ایجاد و اجرای پروژه</a><ul>
<li class="toctree-l2"><a class="reference internal" href="l03.html#id2">ساختار پروژه</a></li>
<li class="toctree-l2"><a class="reference internal" href="l03.html#id6">ایجاد سورس کد</a></li>
<li class="toctree-l2"><a class="reference internal" href="l03.html#id7">اجرای سورس کد</a></li>
<li class="toctree-l2"><a class="reference internal" href="l03.html#id8">پشت صحنه اجرا</a></li>
<li class="toctree-l2"><a class="reference internal" href="l03.html#id9">ایجاد محیط مجازی</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="l04.html">درس ۰۴: برنامه‌نویسی تعاملی</a><ul>
<li class="toctree-l2"><a class="reference internal" href="l04.html#id2">حالت تعاملی</a></li>
<li class="toctree-l2"><a class="reference internal" href="l04.html#id7">دریافت راهنمایی</a></li>
<li class="toctree-l2"><a class="reference internal" href="l04.html#id8">گزینه‌های فراخوانی</a></li>
<li class="toctree-l2"><a class="reference internal" href="l04.html#id11">پی‌نوشت</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">درس ۰۵: مفهوم شی‌گرایی</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">برنامه‌نویسی شی‌گرا</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">اشیا در پایتون</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">کلاس‌ها در پایتون</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="l06.html">درس ۰۶: سینتکس</a><ul>
<li class="toctree-l2"><a class="reference internal" href="l06.html#id2">سطرها</a></li>
<li class="toctree-l2"><a class="reference internal" href="l06.html#id3">مستند‌سازی</a></li>
<li class="toctree-l2"><a class="reference internal" href="l06.html#id5">تورفتگی</a></li>
<li class="toctree-l2"><a class="reference internal" href="l06.html#id6">دستور</a></li>
<li class="toctree-l2"><a class="reference internal" href="l06.html#id7">شناسه</a></li>
<li class="toctree-l2"><a class="reference internal" href="l06.html#id10">متغیر</a></li>
<li class="toctree-l2"><a class="reference internal" href="l06.html#id15">عملگر‌ها</a></li>
</ul>
</li>
</ul>

            </div>
        
   </div>
   <div id="sidebar-bottom-versions">
      

   </div>
</div>
</div>
</div>


            </div>
            <div id="page-body">
                <div class="container-fluid">
                        <div id="body-content" style="max-width: 800px">

                            <div class="row-fluid">
			        <div class="col-lg-12">
				    

<div id="body-top">
    
    
        <a href="../index.html"><i class="fa fa-folder-o"></i>&nbsp; فهرست</a>&nbsp;
        <a><i class="fa  fa-angle-left"></i></a>&nbsp;
        <a><i class="fa fa-folder-open-o"></i>&nbsp; درس ۰۵: مفهوم شی‌گرایی</a>
    
    
        
            <a href="../_sources/lessons/l05.txt" rel="nofollow" id="top-src" target="_blank"><i class="fa fa-code"></i>&nbsp; سورس</a>
        
    
</div>
			        </div>
			    </div>
                            
                            <div class="row-fluid">
			        <div class="col-lg-12">
				    
  <div class="section" id="id1">
<h1>درس ۰۵: مفهوم شی‌گرایی<a class="headerlink" href="#id1" title="لینک ثابت به این سر مقاله">¶</a></h1>
<p>این درس به توضیح مفاهیم پایه «برنامه‌نویسی شی‌گرا» اختصاص یافته است و آخرین درس از سطح‌بندی «پایه» در این کتاب می‌باشد. هدف از این درس آشنایی خوانندگان با مفاهیم عمومی شی‌گرایی بوده و نه آموزش آن؛ جزییات بیشتر از برنامه‌نویسی شی‌گرا به همراه آموزش پیاده‌سازی مفاهیم آن در زبان پایتون توسط درس‌هایی دیگر بررسی خواهد شد. در این درس همچنین به ساختار اشیا و کلاس‌ها در زبان پایتون پرداخته شده است که پیش‌نیاز دروس آتی خواهد بود.</p>
<p><span class="emoji-size">✔</span> سطح: پایه</p>
<hr class="docutils" />
<div class="section" id="id2">
<h2>برنامه‌نویسی شی‌گرا<a class="headerlink" href="#id2" title="لینک ثابت به این سر مقاله">¶</a></h2>
<p>«برنامه‌نویسی شی‌گرا» (<a class="reference external" href="http://en.wikipedia.org/wiki/Object-oriented_programming">Object-Oriented Programming</a>) یا به اختصار OOP یک الگو یا شیوه تفکر در برنامه‌نویسی است که برگرفته از دنیای واقعی بوده و از دهه ۱۹۶۰ میلادی مطرح گشته است. به زبانی که از این الگو پشتیبانی کند، «زبان شی‌گرا» گفته می‌شود؛ <a class="reference external" href="http://en.wikipedia.org/wiki/Simula">Simula 67</a> و <a class="reference external" href="http://en.wikipedia.org/wiki/Smalltalk">Smalltalk</a> نخستین زبان‌های برنامه‌نویسی شی‌گرا هستند. ایده شی‌گرایی در پاسخ به برخی از نیازها که الگوهای موجود پاسخ‌گو آن‌ها نبودند به وجود آمد؛ نیازهایی مانند: توانایی حل تمامی مسائل پیچیده (Complex)، «پنهان‌سازی داده» (Data Hiding)، «قابلیت استفاده مجدد» (Reusability) بیشتر، وابستگی کمتر به توابع، انعطاف بالا و...</p>
<p>رویکرد برنامه‌نویسی شی‌گرا «از پایین به بالا» (Bottom-Up) است؛ یعنی ابتدا واحدهایی کوچک از برنامه ایجاد می‌شوند و سپس با پیوند این واحدها، واحدهایی بزرگتر و در نهایت شکلی کامل از برنامه به وجود می‌آید. برنامه‌نویسی شی‌گرا در قالب دو مفهوم «<strong>کلاس</strong>» (Class) و «<strong>شی</strong>» (Object) ارائه می‌گردد. هر کلاس واحدی از برنامه است که تعدادی داده و عملیات‌ را در خود نگه‌داری می‌کند و هر شی نیز حالتی (State) مشخص از یک کلاس می‌باشد.</p>
<p>در برنامه‌نویسی شی‌گرا، هر برنامه در قالب موجودیت‌های کوچکی که در واقع همان اشیا هستند و با یکدیگر تعامل دارند در نظر گرفته می‌شود. برای داشتن این اشیا می‌بایست ابتدا کلاس‌های برنامه را تعریف نماییم؛ هر کلاس «<strong>رفتار</strong>» (Behavior) و «<strong>صفات</strong>» (Attributes) اشیایی که قرار است از آن ایجاد شوند را تعریف می‌کند. از یک کلاس می‌توان هر تعداد که بخواهیم شی ایجاد نماییم. هر شی بیانگر یک «<strong>حالت</strong>» یا یک «<strong>نمونه</strong>» (Instance) از کلاس خود است.</p>
<p>برای مثال، کارخانه تولید یک مدل خودرو را می‌توانیم به شکل یک کلاس بزرگ در نظر بگیریم. بدیهی است که این کارخانه شامل بخش‌های کوچکتری به مانند: سیستم الکتریکی، سیستم چرخ‌ها، سیستم سوخت، سیستم خنک کننده، موتور و... می‌باشد؛ در این مثال هر یک از این بخش‌ها کلاسی است که باید پیش از کلاس کارخانه ایجاد شود که البته آن‌‌ها هم به جای خود می‌توانند شامل کلاس‌های کوچکتر دیگری باشند. از آنجا که هر کلاس توسط اشیا خود موجودیت می‌یابد؛ می‌بایست درون کلاس کارخانه نمونه‌هایی از این کلاس‌های نام برده ایجاد گردد. قرار گرفتن اشیا در ساختار کلاسی دیگر موجودیت بزرگتری را ایجاد می‌کند. اکنون با ایجاد هر نمونه از کلاس کارخانه، یک شی‌ یا یک موجودیت جدید ایجاد می‌گردد که در درون خود شامل تمامی اشیای این کلاس‌ها می‌باشد. شی حاصل از کلاس کارخانه در این مثال، یک خودرو است.</p>
<p>به هر شی کلاس، یک نمونه از آن کلاس گفته می‌شود و هر زمان که یک شی از کلاسی ایجاد می‌گردد در واقع یک نمونه از آن ساخته می‌شود. به این عمل در شی‌گرایی «<strong>نمونه‌سازی</strong>» (Instantiation) گفته می‌شود. بر همین اساس دو نوع کلاس در شی‌گرایی وجود دارد: ۱- کلاس‌های عادی که توانایی نمونه‌سازی دارند و به آن‌ها <strong>”Concrete Class“</strong> گفته می‌شود ۲- کلاس‌هایی که توانایی نمونه‌سازی ندارند و به آن‌ها <strong>”Abstract Class“</strong> گفته می‌شود.</p>
<p>یکی از مفاهیم دیگر در برنامه‌نویسی شی‌گرا، «<strong>کپسوله‌سازی</strong>» (Encapsulation) است. کپسوله‌سازی به معنی قرار دادن عناصر یک ساختار در قالب موجودیتی جدید می‌باشد. در برنامه‌نویسی شی‌گرا با ایجاد هر نمونه از کلاس، عناصر آن (صفات و رفتارها) در قالب یک موجودیت جدید به نام «شی» قرار می‌گیرد. کپسوله‌سازی در شی‌گرایی امکانی است برای پنهان‌سازی داده‌ها؛ در این شرایط اشیا بدون اینکه از درون یکدیگر و چگونگی کارکرد هم کوچکترین آگاهی داشته باشند به تعامل با یکدیگر می‌پردازند.</p>
<p>گفتیم هر کلاس از تعدادی داده و عملیات درون خود نگهداری می‌کند و همچنین گفتیم هر کلاس رفتار و صفات اشیایی که قرار است از آن ایجاد شوند را تعریف می‌کند؛ اکنون با ارائه تعریفی کامل‌تر خواهیم گفت که: هر کلاس از دو بخش «اعضای داده» (Data Members) و «توابع عضو» (Member Functions) تشکیل شده است. اعضای داده در واقع همان متغیر‌های درون کلاس هستند که خصوصیات یا صفات شی را بیان می‌کنند و در شی‌گرایی با عنوان «<strong>فیلد</strong>» (Field) یا «<strong>صفت</strong>» (Attribute) از آن‌ها یاد می‌شود. توابع عضو نیز عملیات یا کارهایی هستند که یک شی از کلاس قادر به انجام آن‌ها می‌باشد؛ می‌توان توابع عضو را بیانگر رفتار اشیا کلاس دانست. در شی‌گرایی به این توابع «<strong>متد</strong>» (Method) گفته می‌شود.</p>
<p>پس از نمونه‌سازی، شی حاوی تمامی اعضای داده و توابع عضوی است که توسط کلاس مربوط به آن تعریف شده است و برای دسترسی به آن‌ها از الگو: «نام شی + نقطه + نام صفت یا متد()» استفاده می‌گردد. همانند:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">car_object</span><span class="o">.</span><span class="n">color</span>
<span class="n">car_object</span><span class="o">.</span><span class="n">drive</span><span class="p">()</span>
</pre></div>
</div>
<p>همانطور که در زمان پیاده‌سازی کلاس خواهید دید؛ با ایجاد هر نمونه از کلاس یک متد خاص در آن به صورت خودکار اجرا می‌گردد. این متد «<strong>سازنده</strong>» (Constructor) نام دارد و کار آن «<strong>مقداردهی اولیه</strong>» (Initialization) شی است. این کار موجب اطمینان از مقداردهی تمامی اعضای داده پیش از استفاده شی در برنامه می‌گردد.</p>
<p>برای مثال به کلاس خودرو برگردیم و برای آن صفات: رنگ بدنه، ظرفیت باک، بیشینه سرعت و متدهای: راندن، دریافت میزان سوخت، سوخت گیری، تنظیم سرعت، توقف را در نظر بگیریم. اکنون می‌توانیم با تنظیم صفات، نمونه‌ها یا اشیای مورد نظر خود را از این کلاس ایجاد نماییم. برای مثال: دو خودروی آبی با ظرفیت باک ۲۰ لیتر و بیشینه سرعت ۸۰ کیلومتر-ساعت یا یک خودروی صورتی با ظرفیت باک ۴۰ لیتر و بیشینه سرعت ۱۶۰ کیلومتر-ساعت که البته هر سه آن‌ها تمام متدهای کلاس را در خود دارند:</p>
<img alt="../_images/l05-car-class-sample.jpg" class="align-center" src="../_images/l05-car-class-sample.jpg" />
<img alt="../_images/l05-car-class-object-sample.jpg" class="align-center" src="../_images/l05-car-class-object-sample.jpg" />
<p>تا به اینجا با مفاهیم «کلاس»، «صفت»، «متد»، «شی»، «نمونه‌سازی» و «کپسوله‌سازی» آشنا شده‌ایم؛ در ادامه به توضیح سه مفهوم مهم دیگر از برنامه‌نویسی شی‌گرا که عبارتند از: «<strong>وراثت</strong>» (Inheritance)، «<strong>چندریختی</strong>» (Polymorphism) و «<strong>انتزاع</strong>» یا «<strong>تجرید</strong>» (Abstraction) خواهیم پرداخت.</p>
<p class="rubric">وراثت:</p>
<p>وراثت یکی از شکل‌های «قابلیت استفاده مجدد» کد بوده که برنامه‌نویس را قادر می‌سازد تا با ارث‌بری صفات و متدهای یک یا چند کلاس موجود، کلاس‌های جدیدی را ایجاد نماید.</p>
<p>برای نمونه فرض کنیم صاحب کلاس کارخانه خودروسازی مثال پیش، قصد تولید یک مدل خودرو جدید با رویکرد باربری دارد؛ بنابراین می‌بایست کلاسی جدید برای تولید آن تهیه نماید. ولی کلاس جدید علاوه‌بر صفات (ظرفیت بارگیری و..) و متدهای (انجام بارگیری، تخلیه بار و...) خاص خودش به صفات (رنگ بدنه، ظرفیت باک و...) و متدهای (راندن، سوخت گیری، توقف و...) مشابه در کلاس قبل هم نیاز دارد؛ در این حالت نیازی به تعریف مجدد آن‌ها نیست و می‌توان صفات و متدهای کلاس پیش را در کلاس جدید به ارث برد.</p>
<p>به کلاسی که از آن ارث‌بری می‌شود <strong>”Parent Class“</strong> یا <strong>”Base Class“</strong> (کلاس پایه) یا <strong>”Superclass“</strong> و به کلاسی که اقدام به ارث‌بری می‌کند <strong>”Child Class“</strong> (کلاس فرزند) یا <strong>”Derived Class“</strong> یا <strong>”Subclass“</strong> گفته می‌شود.</p>
<p>ارث‌بری توسط «نسبت <strong>هست-یک</strong>» (IS-A Relationship) بیان می‌شود؛ این نسبت می‌گوید کلاس فرزند یک نوع از چیزی است که کلاس پایه هست. کلاس A از کلاس B ارث‌بری دارد؛ در این حالت می‌گوییم: A is a type of B، یعنی درست است اگر بگوییم: «سیب» یک نوع «میوه» است یا «خودرو» یک نوع «وسیله نقلیه» است ولی توجه داشته باشید که این یک ارتباط یک‌طرفه از کلاس فرزند به کلاس پایه است و نمی‌توانیم بگوییم: «میوه» یک نوع «سیب» است یا «وسیله نقلیه» یک نوع «خودرو» است.</p>
<p>کلاس‌ها می‌توانند مستقل باشند ولی هنگامی که وارد رابطه‌های وراثت می‌شوند، یک ساختار سلسله مراتب (Hierarchy) به شکل درخت را تشکیل می‌دهند. برای نمونه به ساختار سلسله مراتب وراثت پایین که مربوط به برخی اشکال هندسی است توجه نمایید، پیکان‌ها نشانگر نسبت is-a هستند.</p>
<img alt="../_images/l05-Inheritance-Hierarchy-Sample.png" class="align-center" src="../_images/l05-Inheritance-Hierarchy-Sample.png" />
<p>در برنامه‌نویسی شی‌گرا نسبت دیگری نیز با عنوان «نسبت <strong>دارد-یک</strong>» (HAS-A Relationship) وجود دارد که بیانگر مفهومی به نام «<strong>ترکیب</strong>» (Composition) است که شکل دیگری از قابلیت استفاده مجدد کد می‌باشد ولی مفهومی متفاوت با وراثت دارد. این نسبت زمانی بیان می‌شود که درون یک کلاس (مانند: C) از کلاس دیگری (مانند: D) نمونه‌سازی شده باشد؛ یعنی شی کلاس C درون خودش شی‌ای از کلاس D را داشته باشد؛ در این حالت می‌گوییم: C has a D. به یاد دارید خواندیم کلاس خودرو از کلاس‌های کوچکتری ساخته شده است؛ مثلا کلاس موتور - یعنی درون این کلاس یک شی از کلاس موتور ایجاد شده است، اکنون می‌توانیم بگوییم: «خودرو» یک «موتور» دارد.</p>
<img alt="../_images/l05-has-a-Sample.png" class="align-center" src="../_images/l05-has-a-Sample.png" />
<p class="rubric">چندریختی:</p>
<p>مفهوم چندریختی بیانگر توانایی کلاس فرزند در تعریف متدهایی است که در کلاس پایه موجود می‌باشند. برای نمونه دو کلاس «ماهی» و «گربه» را که هر دو آن‌ها از کلاسی به نام «حیوانات» ارث‌بری دارند را در نظر بگیرید؛ در کلاس حیوانات متدی با عنوان «غذا خوردن» که عملی مشترک در میان تمام حیوانات است وجود دارد ولی از آنجا که چگونگی انجام آن در ماهی و گربه متفاوت است، بنابراین هر دو این کلاس‌ها نیاز دارند تا متد «غذا خوردن» مخصوص خود را داشته باشند - در این جاست که این متد در کلاس‌های فرزند بازتعریف می‌شود، به این عمل <strong>”Method Overriding“</strong> گفته می‌شود. با Override کردن یک متد، متد کلاس پایه زیر سایه متد مشابه در کلاس فرزند قرار می‌گیرد و از نظر اشیا کلاس فرزند پنهان می‌شود.</p>
<p class="rubric">تجرید:</p>
<p>تجرید در برنامه‌نویسی شی‌گرا به همراه مفهوم چندریختی می‌آید و توسط دو مفهوم «<strong>کلاس‌های مجرد</strong>» (Abstract Classes) و «<strong>متدهای مجرد</strong>» (Abstract Methods) ارائه می‌گردد.</p>
<p>«کلاس مجرد» کلاسی است که شامل یک یا چند «متد مجرد» باشد و «متد مجرد» متدی است که اعلان (Declare) شده ولی بدنه آن ‌تعریف (Define) نشده است. کلاس‌های مجرد قابلیت نمونه‌سازی ندارند و نمی‌توان از آن‌ها شی ایجاد نمود؛ چرا که هدف از توسعه آن‌ها قرار گرفتن در بالاترین سطح (یا چند سطح بالایی) درخت وراثت، به عنوان کلاس پایه برای ارث‌بری کلاس‌های پایین‌تر می‌باشد. ایده طراحی کلاس مجرد در تعیین یک نقشه توسعه برای کلاس‌های فرزند آن است؛ تعیین صفات و متدهای لازم ولی واگذاردن تعریف متدها بر عهده کلاس‌های فرزند.</p>
<p>به عنوان نمونه سه کلاس «ماهی»، «گربه» و «کبوتر» را در نظر بگیرید. این کلاس‌ها جدا از رفتارهای خاص خود (مانند: «پرواز کردن» در کبوتر یا «شنا کردن» در ماهی)، در یک سری رفتار به مانند «نفس کشیدن»، «غذا خوردن» و... مشترک هستند. راه درستِ توسعه این کلاس‌ها تعیین یک «کلاس پایه» برای رفتارهای مشترک و ارث‌بری هر سه آن‌ها می‌باشد. ولی از آنجا که هر یک، این رفتارهای مشترک را به گونه‌ای دیگر انجام می‌دهد؛ راه درست‌تر آن است که یک «کلاس مجرد» به عنوان «کلاس پایه» آن‌ها در نظر بگیریم؛ در این حالت هر کدام از کلاس‌ها ضمن دانستن رفتارهای لازم می‌تواند آن‌‌ها را متناسب با خواست خود تعریف نماید.</p>
</div>
<div class="section" id="id3">
<h2>اشیا در پایتون<a class="headerlink" href="#id3" title="لینک ثابت به این سر مقاله">¶</a></h2>
<p>علاوه‌بر اینکه پایتون یک زبان برنامه‌نویسی شی‌گراست، ساختار آن نیز بر مبنای شی‌گرایی توسعه یافته است و اینطور بیان می‌شود که <strong>هر چیزی در پایتون یک شی است</strong>. اشیا، انتزاعِ پایتون برای ارائه «انواع داده‌» (Data Types) هستند. به بیان دیگر تمام داده‌های یک برنامه پایتونی یا به صورت مستقیم یک شی است یا از روابط بین اشیا ایجاد می‌گردد. برای نمونه: <code class="docutils literal"><span class="pre">56</span></code>، <code class="docutils literal"><span class="pre">&quot;!Hello</span> <span class="pre">World&quot;</span></code>، توابع و... حتی خود کلاس‌ها نیز توسط یک نوع شی ارائه می‌شوند. هر شی در پایتون حاوی یک «<strong>شناسه</strong>» (identity)، یک «<strong>نوع</strong>» (type) و یک «<strong>مقدار</strong>» (value) است.</p>
<ul>
<li><p class="first">«شناسه» در زمان ایجاد شی به آن اختصاص می‌یابد و غیر قابل تغییر است. تابع <code class="docutils literal"><span class="pre">()id</span></code> شناسه شی را به صورت یک عدد صحیح برمی‌گرداند که این مقدار در CPython بیانگر نشانی (Address) شی در حافظه (RAM) است:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">140468674877440</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mf">0.25</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="go">140468676592120</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">msg</span> <span class="o">=</span> <span class="s">&quot;Hello World!&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">id</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="go">140468675425264</span>
</pre></div>
</div>
</li>
<li><p class="first">هر شی در پایتون دارای یک «نوع» یا ”type“ است که عملیات قابل پشتیبانی و نیز مقادیر ممکن برای شی را تعریف می‌کند. نوع هر شی توسط تابع <code class="docutils literal"><span class="pre">()type</span></code> قابل مشاهده است و همانند شناسه غیر قابل تغییر می‌باشد:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># python 3.x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="mi">127</span><span class="p">)</span>
<span class="go">&lt;class &#39;int&#39;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="c"># python 2.x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="mi">127</span><span class="p">)</span>
<span class="go">&lt;type &#39;int&#39;&gt;</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">ملاحظه</p>
<p class="last">تمام اعداد صحیح (Integers) در پایتون یک شی از نوع <code class="docutils literal"><span class="pre">int</span></code> می‌باشند. [با انواع موجود (Built-in) شی در پایتون توسط دروس آینده آشنا خواهید شد.]</p>
</div>
</li>
<li><p class="first">«مقدار» برخی اشیا در پایتون قابل تغییر است که به این دسته از اشیا <strong>”mutable“</strong> گفته می‌شود؛ ولی مقدار برخی دیگر قابل تغییر نمی‌باشد (مانند اعداد: شی <code class="docutils literal"><span class="pre">127</span></code>) که به آن‌ها اشیا <strong>”immutable“</strong> می‌گویند.</p>
</li>
</ul>
</div>
<div class="section" id="id4">
<h2>کلاس‌ها در پایتون<a class="headerlink" href="#id4" title="لینک ثابت به این سر مقاله">¶</a></h2>
<p>از نسخه 2.2 طراحی کلاس‌ها در پایتون تغییر کرد [<a class="reference external" href="http://www.python.org/doc/newstyle/">New-style Classes</a>] که البته ساختار قدیمی همچنان در نسخه 2x باقی مانده است. [مبنای آموزش در این کتاب طراحی جدید می‌باشد.]</p>
<p>در ساختار جدید مفهوم ”type“ برابر مفهوم ”class“ طراحی شده است. در این ساختار هر کلاس، یک شی از کلاسی به نام ”type“ می‌باشد و تمام کلاس‌ها از کلاسی به نام ”object“ ارث‌بری دارند:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Python 3.x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span> <span class="o">=</span> <span class="mi">3</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">num</span><span class="o">.</span><span class="n">__class__</span>
<span class="go">&lt;class &#39;int&#39;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">num</span><span class="p">)</span>
<span class="go">&lt;class &#39;int&#39;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">num</span><span class="p">))</span>
<span class="go">&lt;class &#39;type&#39;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="n">__class__</span>
<span class="go">&lt;class &#39;type&#39;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">.</span><span class="n">__bases__</span>
<span class="go">(&lt;class &#39;object&#39;&gt;,)</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">ملاحظه</p>
<p class="last">صفت <code class="docutils literal"><span class="pre">__class__</span></code> نام کلاس یک شی و صفت <code class="docutils literal"><span class="pre">__bases__</span></code> نام کلاس‌های پایه یک کلاس را نمایش می‌دهد.</p>
</div>
<div class="section" id="id5">
<h3>تعریف کلاس<a class="headerlink" href="#id5" title="لینک ثابت به این سر مقاله">¶</a></h3>
<p>در پایتون برای تعریف کلاس از کلمه کلیدی <code class="docutils literal"><span class="pre">class</span></code> استفاده می‌گردد؛ همانند الگو پایین:</p>
<div class="highlight-python"><div class="highlight"><pre>class ClassName:
    &lt;statement-1&gt;
    .
    .
    .
    &lt;statement-N&gt;
</pre></div>
</div>
<p>کلمه کلیدی تعریف کلاس - <code class="docutils literal"><span class="pre">class</span></code> - یک دستور اجراپذیر (Executable Statement) است. یک کلاس پیش از اجرای دستور خود هیچ تاثیری در برنامه ندارد. این شرایط سبب می‌شود که حتی بتوان یک کلاس را در میان بدنه دستور شرط (<code class="docutils literal"><span class="pre">if</span></code>) یا درون بدنه یک تابع تعریف کرد. [در پشت صحنه]: با اجرای دستور تعریف کلاس، یک شی از نوع type در حافظه ایجاد می‌گردد و از نام کلاس برای اشاره به آن شی استفاده می‌شود.</p>
<p>بعد از کلمه کلیدی <code class="docutils literal"><span class="pre">class</span></code> نام کلاس (به دلخواه کاربر) نوشته می‌شود. سطر نخست تعریف مانند تمام دستورات مرکب (Compound) که به صورت معمول در چند سطر نوشته می‌شوند و سرآیند دارند، به کاراکتر <code class="docutils literal"><span class="pre">:</span></code> ختم می‌شود. از سطر دوم با رعایت یکنواخت تورفتگی دستورات بدنه کلاس نوشته می‌شوند:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Python 3.x</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyClassName</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="go">&gt;&gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">MyClassName</span><span class="p">)</span>
<span class="go">&lt;class &#39;type&#39;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">MyClassName</span><span class="o">.</span><span class="n">__bases__</span>
<span class="go">(&lt;class &#39;object&#39;&gt;,)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">ملاحظه</p>
<p class="last">در مواردی که هنوز نمی‌خواهیم دستورات مربوط به بدنه یک دستور به مانند کلاس را بنویسیم؛ می‌توانیم از دستور <code class="docutils literal"><span class="pre">pass</span></code> استفاده کنیم. با اجرای این دستور هیچ کاری انجام نمی‌شود.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Python 2.x</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyClassName</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="go">&gt;&gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">MyClassName</span><span class="p">)</span>
<span class="go">&lt;type &#39;type&#39;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">MyClassName</span><span class="o">.</span><span class="n">__bases__</span>
<span class="go">(&lt;type &#39;object&#39;&gt;,)</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<p>تمامی کلاس‌ها در پایتون 3x به صورت ضمنی از کلاس object ارث‌بری دارند و نیازی به درج آن توسط برنامه‌نویس نیست؛ ولی در نسخه 2x چنانچه قصد داشته‌ باشیم از طراحی جدید کلاس‌ها پیروی کنیم، می‌بایست به صورت صریح از این کلاس ارث‌بری نماییم.</p>
<p>در بحث ارث‌بری نام کلاس(های) پایه مورد نظر درون پرانتز جلوی نام کلاس نوشته می‌شود. در صورت ارث‌بری از چند کلاس می‌بایست نام آن‌ها را توسط ویرگول (Comma) از یکدیگر جدا ساخت:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Python 3.x</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ChildClassName</span><span class="p">(</span><span class="n">BaseClassNameOne</span><span class="p">,</span> <span class="n">BaseClassNameTwo</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="go">&gt;&gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">ChildClassName</span><span class="o">.</span><span class="n">__bases__</span>
<span class="go">(&lt;class &#39;__main__.BaseClassNameOne&#39;&gt;, &lt;class &#39;__main__.BaseClassNameTwo&#39;&gt;)</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">ملاحظه</p>
<p>همانطور که می‌دانیم،‌ <code class="docutils literal"><span class="pre">__main__</span></code> اشاره به نام ماژول دارد.</p>
<p class="last">با دقت در نمونه کد بالا متوجه می‌شوید که دیگر از کلاس object در میان کلاس‌های پایه خبری نیست. دلیل این اتفاق در این است که کلاس فرزند (ChildClassName) اکنون در یک سلسله مراتب وراثت قرار گرفته و کلاس‌های پایه او از این کلاس ارث‌بری دارند.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Python 2.x</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">BaseClassNameOne</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="go">&gt;&gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">BaseClassNameTwo</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="go">&gt;&gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ChildClassName</span><span class="p">(</span><span class="n">BaseClassNameOne</span><span class="p">,</span> <span class="n">BaseClassNameTwo</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">...</span>
<span class="go">&gt;&gt;&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">ChildClassName</span><span class="o">.</span><span class="n">__bases__</span>
<span class="go">(&lt;class &#39;__main__.BaseClassNameOne&#39;&gt;, &lt;class &#39;__main__.BaseClassNameTwo&#39;&gt;)</span>
</pre></div>
</div>
<p>برای دریافت نام تمام کلاس‌های پایه موجود در سلسله مراتب وراثت یک کلاس مشخص می‌توانیم از تابع <code class="docutils literal"><span class="pre">()getmro</span></code> درون ماژول <code class="docutils literal"><span class="pre">inspect</span></code> استفاده نماییم [<a class="reference external" href="https://docs.python.org/2/library/inspect.html#inspect.getmro">اسناد پایتون</a>]؛ همانند پایین:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Python 3.x</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">inspect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inspect</span><span class="o">.</span><span class="n">getmro</span><span class="p">(</span><span class="n">ChildClassName</span><span class="p">)</span>
<span class="go">(&lt;class &#39;__main__.ChildClassName&#39;&gt;, &lt;class &#39;__main__.BaseClassNameOne&#39;&gt;, &lt;class &#39;__main__.BaseClassNameTwo&#39;&gt;, &lt;class &#39;object&#39;&gt;)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="c"># Python 2.x</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">inspect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inspect</span><span class="o">.</span><span class="n">getmro</span><span class="p">(</span><span class="n">ChildClassName</span><span class="p">)</span>
<span class="go">(&lt;class &#39;__main__.ChildClassName&#39;&gt;, &lt;class &#39;__main__.BaseClassNameOne&#39;&gt;, &lt;class &#39;__main__.BaseClassNameTwo&#39;&gt;, &lt;type &#39;object&#39;&gt;)</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">ملاحظه</p>
<p class="last">خروجی تابع <code class="docutils literal"><span class="pre">()getmro</span></code> مرتب شده است؛ به این صورت که در یک سلسله مراتب از خود کلاس مورد نظر شروع می‌شود و به کلاس object پایان می‌یابد. کلاس‌های پایه هم سطح نیز بر اساس ترتیب نوشتن آن‌ها در کلاس فرزند مرتب می‌شوند.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<hr class="docutils" />
<p><span class="emoji-size">😊</span> امیدوارم مفید بوده باشه</p>
<p><a class="reference external" href="http://coderz.ir/python-tutorial-concept-object-oriented/">لطفا دیدگاه و سوال‌های مرتبط با این درس خود را در کدرز مطرح نمایید.</a></p>
</div>
</div>
</div>


			        </div>
			    </div>

                            <div class="row-fluid">
			        <div class="col-lg-12">
				    

        
            <div id="body-btn">
                
                    
                    <a href="l04.html" style="float:right;" title="درس ۰۴: برنامه‌نویسی تعاملی" accesskey="p"><i class="fa fa-chevron-right"></i>&nbsp; قبلی</a>
                    
                    
                    <a href="l06.html" style="float:left;" title="درس ۰۶: سینتکس" accesskey="n">بعدی &nbsp;<i class="fa fa-chevron-left"></i></a>
                    
                
            </div>
        


        <div id="body-footer">  
            <p>
                        
                            <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"  target="_blank">
                                <img alt="Creative Commons License" style="border-width:0;margin-bottom: 3px" src="https://i.creativecommons.org/l/by-nc/4.0/80x15.png" />
                            </a>
                            <span style="display: inline-block;vertical-align: middle" >2015, Saeid Darvishi </span>
                            <a href="https://twitter.com/saeiddrv" target="_blank"><i class="fa fa-twitter"></i></a>
                        
            </p>
                <p style="font-size: 13px;">
                    . Aug 19, 2015  آخرین بروز رسانی در
                </p>
                <p style="font-size: 13px;">
                    
                        Created using <a href="http://sphinx-doc.org/">Sphinx</a> (1.3.1) with <a href="https://github.com/saeiddrv/SphinxMinooTheme">Minoo</a> (Beta 0.9.5) theme.
                    
                </p>
            <p style="font-size: 13px;"> 
           </p>
        </div> 

			        </div>
			    </div>
                            
                        </div>
                </div>
            </div>
            <span class="back-to-top">
                <i class="fa fa-arrow-circle-up"></i>
            </span>
        </div>
    </body>
</html>